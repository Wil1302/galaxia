<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Galaxia Especial 3D ✨</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      background: #000;
      overflow: hidden;
      font-family: 'Arial', sans-serif;
      height: 100vh;
      cursor: grab;
    }
    body:active { cursor: grabbing; }
    #container {
      width: 100vw;
      height: 100vh;
      position: relative;
    }
    .loading {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: #fff;
      font-size: 20px;
      z-index: 1000;
    }
    .controls-info {
      position: absolute;
      bottom: 20px;
      left: 20px;
      color: rgba(255, 255, 255, 0.7);
      font-size: 12px;
      z-index: 100;
    }
  </style>
</head>
<body>
  <div id="container">
    <div class="loading">Cargando Galaxia...</div>
    <div class="controls-info">
      💻 Mouse: Arrastra para rotar<br />
      📱 Móvil: Toca y arrastra
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script>
    let scene, camera, renderer, sceneGroup, planet, stars = [], textObjects = [];
    let isMouseDown = false, mouseX = 0, mouseY = 0;
    let targetRotationX = 0.3, targetRotationY = 0;
    let currentRotationX = 0.3, currentRotationY = 0;

    const messageTexts = [
      "✨ Tu esfuerzo brilla 💪💖", "Eres increíble 🌟😊", "Cada día aprendes y creces 📚🌸",
      "Siempre dando lo mejor 🌼💫", "Tu constancia inspira 💜⚡", "Eres única en tu camino 🌈💖",
      "Cada acción tuya deja huella 🌟🌺", "Tu pasión es tu fuerza ❤️🔥", "Siempre avanzando con fuerza 💪✨",
      "Tu energía contagia 😄💛", "El mundo necesita tu talento 🌍💫", "Sigue brillando 🌸💖",
      "Tu compromiso marca la diferencia 🩺💜", "Te quiero ❤️✨", "Tu esfuerzo es brillante 💫😊",
      "Eres fuerza y talento 💪🌟", "Cada reto te hace más fuerte 🌹💖", "Eres admirable y valiente 🌟💛",
      "Siempre creciendo y aprendiendo 📚💫", "Lo que logras es grandioso 🌈✨"
    ];

    function init() {
      scene = new THREE.Scene();
      sceneGroup = new THREE.Group();
      sceneGroup.rotation.x = 0.3;
      scene.add(sceneGroup);

      camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 500);
      camera.position.z = 18;

      renderer = new THREE.WebGLRenderer({ antialias: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      document.getElementById("container").appendChild(renderer.domElement);

      createPlanet();
      createGlowRings();
      createStars();
      createTextMessages();
      createLights();
      setupEvents();

      document.querySelector(".loading").style.display = "none";
      animate();
    }

    function createPlanet() {
      const geo = new THREE.SphereGeometry(3, 64, 64);
      const mat = new THREE.MeshLambertMaterial({ color: 0x111111, transparent: true, opacity: 0.8 });
      planet = new THREE.Mesh(geo, mat);
      sceneGroup.add(planet);
    }

    function createGlowRings() {
      const rings = new THREE.Group();

      const canvas = document.createElement('canvas');
      canvas.width = 512;
      canvas.height = 512;
      const ctx = canvas.getContext('2d');
      const gradient = ctx.createRadialGradient(256, 256, 100, 256, 256, 256);
      gradient.addColorStop(0, '#ffffff');
      gradient.addColorStop(0.2, '#ffffff');
      gradient.addColorStop(0.3, '#fff8dc');
      gradient.addColorStop(0.5, '#ffd700');
      gradient.addColorStop(0.7, '#ffa500');
      gradient.addColorStop(0.85, '#ff8c00');
      gradient.addColorStop(1, '#ff6347');
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, 512, 512);

      const texture = new THREE.CanvasTexture(canvas);
      const material = new THREE.MeshBasicMaterial({
        map: texture,
        side: THREE.DoubleSide,
        transparent: true,
        opacity: 1.0
      });

      const ringGeometry = new THREE.RingGeometry(4, 7, 128);
      const ring = new THREE.Mesh(ringGeometry, material);
      ring.rotation.x = Math.PI / 2;
      rings.add(ring);

      sceneGroup.add(rings);
    }

    function createStars() {
      const starGroup = new THREE.Group();
      for (let i = 0; i < 15000; i++) {
        const size = 0.05 + Math.random() * 0.1;
        const opacity = 0.7 + Math.random() * 0.3;
        const star = new THREE.Mesh(
          new THREE.SphereGeometry(size, 4, 4),
          new THREE.MeshBasicMaterial({ color: 0xffffff, transparent: true, opacity: opacity })
        );
        star.position.set(
          (Math.random() - 0.5) * 300,
          (Math.random() - 0.5) * 300,
          (Math.random() - 0.5) * 300
        );
        star.userData = { baseOpacity: opacity, speed: 0.002 + Math.random() * 0.01 };
        stars.push(star);
        starGroup.add(star);
      }
      sceneGroup.add(starGroup);
    }

    function createTextMessages() {
      messageTexts.forEach(text => {
        const geo = new THREE.PlaneGeometry(8, 2);
        const canvas = document.createElement('canvas');
        canvas.width = 1024;
        canvas.height = 256;
        const ctx = canvas.getContext('2d');
        ctx.font = 'bold 64px Arial';
        ctx.fillStyle = '#ffffff';
        ctx.shadowColor = '#ff6b9d';
        ctx.shadowBlur = 25;
        ctx.textAlign = 'center';
        ctx.fillText(text, 512, 160);

        const texture = new THREE.CanvasTexture(canvas);
        const mat = new THREE.MeshBasicMaterial({ map: texture, transparent: true, opacity: 0.9 });
        const mesh = new THREE.Mesh(geo, mat);
        mesh.position.set((Math.random() - 0.5) * 40, 10 + Math.random() * 30, (Math.random() - 0.5) * 40);
        sceneGroup.add(mesh);
        textObjects.push({ mesh: mesh, speed: 0.01 + Math.random() * 0.02 });
      });
    }

    function createLights() {
      scene.add(new THREE.AmbientLight(0x404040, 0.6));
      const light = new THREE.DirectionalLight(0xffffff, 1);
      light.position.set(10, 10, 5);
      scene.add(light);
    }

    function setupEvents() {
      renderer.domElement.addEventListener('mousedown', e => { isMouseDown = true; mouseX = e.clientX; mouseY = e.clientY; });
      renderer.domElement.addEventListener('mousemove', e => {
        if (!isMouseDown) return;
        const dx = e.clientX - mouseX;
        const dy = e.clientY - mouseY;
        targetRotationY += dx * 0.05;
        targetRotationX += dy * 0.05;
        targetRotationX = Math.max(-Math.PI / 2, Math.min(Math.PI / 2, targetRotationX));
        mouseX = e.clientX;
        mouseY = e.clientY;
      });
      renderer.domElement.addEventListener('mouseup', () => { isMouseDown = false; });
      window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      });
    }

    function animate() {
      requestAnimationFrame(animate);
      currentRotationX += (targetRotationX - currentRotationX) * 0.1;
      currentRotationY += (targetRotationY - currentRotationY) * 0.1;
      sceneGroup.rotation.x = currentRotationX;
      sceneGroup.rotation.y = currentRotationY;

      stars.forEach(s => {
        s.material.opacity = s.userData.baseOpacity * (0.5 + 0.5 * Math.sin(Date.now() * s.userData.speed));
      });

      textObjects.forEach(t => {
        t.mesh.position.y -= t.speed;
        if (t.mesh.position.y < -30) {
          t.mesh.position.y = 25;
          t.mesh.position.x = (Math.random() - 0.5) * 40;
          t.mesh.position.z = (Math.random() - 0.5) * 40;
        }
        t.mesh.lookAt(camera.position);
      });

      renderer.render(scene, camera);
    }

    window.addEventListener('load', init);
  </script>
</body>
</html>
